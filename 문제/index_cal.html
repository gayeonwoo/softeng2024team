<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <title>Group Page</title>
    <link href="./head.css" rel="stylesheet" type="text/css">
</head>
<body>
<nav>
    <a href="index_cal.html">Home</a>
    <a href="gyPage.html">Personal Page(Gayeon)</a>
    <a href="kmpage.html">Personal Page(Kyungmun)</a>
</nav>

<h1>칼로리 계산기</h1>

<form id = "calorie">
    <label for="food">섭취음식 : </label>
    <input type="text" id = "food" name="food" value="사과"><br><br>

    <label for="amount">섭취량(g) : </label>
    <input type="number" id="amount" name="amount" value="100"><br><br>

    <button type="button" onclick="calculate_calories()">계산</button>
</form>

<p>결과 : <span id = "result"></span></p>

<py-script>

kcal_dic = {
    '밀': 334,
    '쌈추': 20,
    '쑥': 37,
    '바나나': 84,
    '배': 46,
    '버찌': 60,
    '복숭아': 48,
    '보리': 352,
    '쑥갓': 15,
    '쑥부쟁이': 26,
    '씀바귀': 43,
    '아스파라거스': 21,
    '아욱': 37,
    '블랙베리': 43,
    '블랙커런트': 63,
    '블루베리': 48,
    '비파': 45,
    '고구마': 23,
    '고들빼기': 29,
    '고려엉겅퀴(곤드레)': 32,
    '고비': 28,
    '부추': 30,
    '브로콜리': 32,
    '수수': 374,
    '고사리': 22,
    '고수(향채)': 33,
    '고추': 29,
    '사과': 56,
    '산딸기': 55,
    '산수유': 112,
    '살구': 30,
    '석류': 77,
    '소귀나무 열매': 24,
    '수박': 31,
    '옥수수': 109,
    '비름': 23,
    '비타민채(다채)': 14,
    '비타민채': 54,
    '비트': 16,
    '산자나무 열매(씨벅톤)': 70,
    '아떼모야': 73,
    '아로니아': 60,
    '아보카도': 187,
    '아세로라': 36,
    '애플수박': 40,
    '앵두': 61,
    '엘더베리': 73,
    '오디': 56,
    '오렴자(카람볼라)': 30,
    '오미자': 81,
    '용과': 44,
    '사탕무': 77,
    '사탕수수': 77,
    '산마늘(명이나물)': 36,
    '삼붕냐와': 27,
    '삼채': 23,
    '율무': 377,
    '삽주나물': 52,
    '유자': 40,
    '으름': 158,
    '자두': 26,
    '자몽(그레이프프루트)': 32,
    '잭프루트': 95,
    '참외': 47,
    '체리': 67,
    '상추': 14,
    '생강': 42,
    '선인장': 51,
    '칼슘나무 열매': 50,
    '크랜베리': 46,
    '키위': 64,
    '탱자': 84,
    '파인애플': 53,
    '파파야': 38,
    '백향과(패션프루트)': 100,
    '섬초롱': 41,
    '세발나물': 18,
    '셀러리': 17,
    '솔장다리': 31,
    '쇠귀나물': 126,
    '수리취(떡취)': 64,
    '숙주나물': 13,
    '순무': 27,
    '잡곡': 358,
    '멥쌀': 363,
    '포도': 68,
    '플럼코트': 47,
    '스테비아': 40,
    '시금치': 33,
    '신선초(명일엽)': 24,
    '아주까리': 82,
    '아티초크': 47,
    '알로에': 3,
    '알팔파': 21,
    '양배추': 33,
    '양상추': 18,
    '양파': 27,
    '고춧잎': 45,
    '고추냉이': 103,
    '곤달비': 42,
    '강낭콩': 172,
    '곰취': 32,
    '공심채': 17,
    '꾸지뽕': 85,
    '구기자': 50,
    '국화꽃': 27,
    '근대': 18,
    '완두': 114,
    '작두(도두)': 125,
    '잠두': 341,
    '양하': 13,
    '어수리': 31,
    '얼갈이배추': 14,
    '음나무(엄나무)': 41,
    '여주(고야)': 22,
    '연근': 75,
    '열대비름(아마란스)': 45,
    '열무': 14,
    '염교(락교)': 118,
    '영아자': 34,
    '오이': 13,
    '오크라': 30,
    '왕호장잎': 79,
    '우엉': 69,
    '울금': 87,
    '원추리': 35,
    '도토리': 230,
    '유채': 78,
    '잇꽃(홍화)': 45,
    '비비추(이밥추)': 48,
    '자운영': 40,
    '잔대': 79,
    '적하수오잎': 35,
    '전호': 23,
    '제비쑥': 35,
    '조뱅이': 47,
    '좀홍당무': 18,
    '죽순': 24,
    '조': 373,
    '찹쌀': 377,
    '마가목 열매': 115,
    '마름': 190,
    '머루씨': 282,
    '밤': 151,
    '진달래꽃': 26,
    '질경이': 48,
    '참나물': 39,
    '참빗살나무': 61,
    '참죽나물': 46,
    '청경채': 10,
    '초석잠': 76,
    '총각무': 22,
    '취나물': 53,
    '치커리': 14,
    '칠면초': 27,
    '케일': 26,
    '콜라비': 22,
    '콩나물': 36,
    '콩잎': 94,
    '털머위': 51,
    '토란대': 16,
    '토마토': 19,
    '토스카노(잎브로콜리)': 40,
    '퉁퉁마디(함초)': 19,
    '파': 29,
    '파드득나물(삼엽채)': 25,
    '파슬리': 36,
    '파프리카': 24,
    '피망': 28,
    '해바라기': 9,
    '호박': 38,
    '메밀 국수': 291,
    '홑잎나물': 96,
    '연씨': 85,
    '은행': 203,
    '메밀묵': 58,
    '피': 376,
    '호밀': 334,
    '귀리': 373,
    '기장': 360,
    '가시오갈피': 76,
    '가죽나물': 50,
    '가지': 19,
    '뽕잎': 65,
    '부지갱이(섬쑥부쟁이)': 30,
    '감': 63,
    '구아바': 38,
    '구즈베리': 52,
    '금귤': 73,
    '갓': 36,
    '갯기름나물': 41,
    '국수': 291,
    '게걸무': 59,
    '겨자': 24,
    '다래': 67,
    '대추': 105,
    '두리안': 133,
    '딸기': 36,
    '라임': 30,
    '라즈베리': 52,
    '레몬': 28,
    '롱안': 60,
    '리치': 63,
    '망고': 61,
    '망고스틴': 67,
    '매실': 41,
    '멜론': 21,
    '모과': 78,
    '무화과': 54,
    '메밀': 363,
    '꿀풀(하고초)': 48,
    '날개콩': 36,
    '냉이': 41,
    '넘취': 35,
    '녹색완두': 93,
    '누룩치': 72,
    '누리장나무잎': 65,
    '는쟁이냉이': 28,
    '달래': 28,
    '당귀': 70,
    '당근': 31,
    '더덕': 89,
    '도라지': 56,
    '돌나물': 15,
    '동아': 12,
    '두릅': 33,
    '둥글레': 52,
    '들깨': 17,
    '들깻잎': 47,
    '로카': 17,
    '루꼴라': 25,
    '리크': 54,
    '마늘': 124,
    '풋마늘': 29,
    '마늘종': 45,
    '마타리': 45,
    '머위': 17,
    '모링가(드럼스틱)': 66,
    '모시풀': 64,
    '무': 21,
    '무청': 22,
    '물냉이': 23,
    '물쑥': 36,
    '미나리': 21,
    '미니파프리카': 38,
    '민들레': 29,
    '바젤라': 13,
    '박': 21,
    '박쥐나무': 100,
    '방가지똥': 46,
    '배암차즈기(곰보배추)': 25,
    '바질잎': 32,
    '배초향': 55,
    '배추': 15,
    '귤': 39,
    '머루': 79,
    '방울다다기양배추': 49,
    '동부': 166,
    '복분자': 88,
    '오렌지': 47,
    '잣': 630,
    '백모근': 138,
    '백합': 118,
    '버드장이': 38,
    '꽃양배추(콜리플라워)': 27,
    '무순': 20,
}


def find_kcal(food,amount):
    if food in kcal_dic:
        total_kcal=kcal_dic[food]/100*float(amount)
        return total_kcal
    else:
        return None
</py-script>

<script>
    function calculate_calories() {
        const food = document.getElementById('food').value;
        const amount = document.getElementById('amount').value;

        let result = await pyodide.runPythonAsync(`
            food = "${food}"
            amount = ${amount}
            find_kcal(food, amount)
        `);

        if (result === 'None') {
            document.getElementById('result').innerText = `${food}의 칼로리 정보를 찾을 수 없습니다.`;
        } else {
            document.getElementById('result').innerText = `${food} ${amount}g: ${result} kcal`;
        }
    }
</script>

</body>
</html>